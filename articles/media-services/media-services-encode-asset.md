<properties 
	pageTitle="Обзор и сравнение кодировщиков мультимедиа Azure по запросу | Microsoft Azure" 
	description="В этой статье приводится обзор и сравнение кодировщиков мультимедиа Azure по запросу." 
	services="media-services" 
	documentationCenter="" 
	authors="juliako" 
	manager="erikre" 
	editor=""/>

<tags 
	ms.service="media-services" 
	ms.workload="media" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="09/19/2016" 
	ms.author="juliako"/>

#Обзор и сравнение кодировщиков мультимедиа Azure по запросу

##Общие сведения о кодировании

Службы мультимедиа Azure предоставляют несколько вариантов для кодирования мультимедиа в облаке.

При начале работы со службами мультимедиа важно понимать разницу между кодеками и форматами файлов. Кодеки — это программное обеспечение, которое реализует алгоритмы сжатия и распаковки, тогда как форматы файлов являются контейнерами, в которых хранится сжатое видео.

Службы мультимедиа обеспечивают динамическую упаковку, которая позволяет доставлять закодированное содержимое MP4-файлов с адаптивным битрейтом или Smooth Streaming в форматах потоковой передачи с поддержкой служб мультимедиа (MPEG DASH, HLS, Smooth Streaming, HDS) без необходимости повторной упаковки в эти форматы потоковой передачи.

Чтобы воспользоваться преимуществом [динамической упаковки](media-services-dynamic-packaging-overview.md), необходимо выполнить следующие действия:

- закодировать мезонинный (исходный) файл в набор MP4-файлов с адаптивной скоростью или в набор файлов Smooth Streaming (шаги кодирования показаны далее в этом учебнике);
- получить по крайней мере одну единицу потокового воспроизведения по запросу для конечной точки потоковой передачи, из которой планируется доставлять содержимое. Дополнительную информацию см. в разделе [Масштабирование зарезервированных единиц потоковой передачи по запросу](media-services-portal-manage-streaming-endpoints.md).

Службы мультимедиа поддерживают следующие кодировщики по запросу, описанные в этом разделе.

- [Стандартный кодировщик служб мультимедиа](media-services-encode-asset.md#media-encoder-standard)
- [Расширенный рабочий процесс кодировщика мультимедиа](media-services-encode-asset.md#media-encoder-premium-workflow)

В этом разделе предоставлен краткий обзор кодировщиков мультимедиа по запросу, а также приведены ссылки на разделы с подробными сведениями. В этой статье также приводится сравнение кодировщиков.

Обратите внимание, что по умолчанию каждая учетная запись служб мультимедиа может выполнять одну активную задачу кодирования в текущий момент. Можно зарезервировать единицы кодирования, которые позволят выполнять несколько задач кодирования одновременно, по одной для каждой приобретенной единицы. Дополнительные сведения см. в разделе [Масштабирование единиц кодирования](media-services-scale-media-processing-overview.md).

##Стандартный кодировщик служб мультимедиа

###Использование

[Кодирование с помощью стандартного кодировщика мультимедиа](media-services-dotnet-encode-with-media-encoder-standard.md)

###Форматы

[Форматы и кодеки](media-services-media-encoder-standard-formats.md)

###Предустановки

Стандартный кодировщик мультимедиа настраивается с помощью одной из предустановок кодировщика, описанных [здесь](http://go.microsoft.com/fwlink/?linkid=618336&clcid=0x409).

###Входные и выходные метаданные

Входные метаданные кодировщиков описаны [здесь](http://msdn.microsoft.com/library/azure/dn783120.aspx).

Выходные метаданные кодировщиков описаны [здесь](http://msdn.microsoft.com/library/azure/dn783217.aspx).

###Создание эскизов

Дополнительные сведения см. в статье [Создание эскизов с помощью стандартного кодировщика служб мультимедиа](media-services-custom-mes-presets-with-dotnet.md#thumbnails).

###Усечение видео (обрезка)

Дополнительные сведения см. в статье [Монтаж видео (обрезка)](media-services-custom-mes-presets-with-dotnet.md#trim_video).

###Создание наложений

Дополнительные сведения см. в статье [Создание наложения](media-services-custom-mes-presets-with-dotnet.md#overlay).

###Дополнительные материалы

[Блог, посвященный службам мультимедиа](https://azure.microsoft.com/blog/2015/07/16/announcing-the-general-availability-of-media-encoder-standard/)
 
##Расширенный рабочий процесс кодировщика мультимедиа

###Обзор

[Знакомство с кодированием Premium в службах мультимедиа Azure](https://azure.microsoft.com/blog/2015/03/05/introducing-premium-encoding-in-azure-media-services/)

###Использование

Рабочий процесс Premium кодировщика мультимедиа настраивается с помощью сложных рабочих процессов. Файлы рабочих процессов можно создавать и обновлять с помощью [конструктора рабочих процессов](media-services-workflow-designer.md).

[Использование кодирования Premium в службах мультимедиа Azure](https://azure.microsoft.com/blog/2015/03/06/how-to-use-premium-encoding-in-azure-media-services/)

###Известные проблемы

Если входящее видео не содержит скрытых субтитров, выходящий ресурс по-прежнему будет содержать пустой файл TTML.


##<a id="compare_encoders"></a>Сравнение кодировщиков

###<a id="billing"></a>Тарифные единицы, используемые кодировщиками

Имя обработчика мультимедиа|Применимые цены|Примечания
---|---|---
**Стандартный кодировщик служб мультимедиа** |КОДИРОВЩИК|Плата за выполнение задач кодирования взимается на основе размера выходного ресурса-контейнера в гигабайтах по тарифу, указанному [здесь][1] в столбце "КОДИРОВЩИК".
**Расширенный рабочий процесс кодировщика мультимедиа** |РАСШИРЕННЫЙ КОДИРОВЩИК|Плата за выполнение задач кодирования взимается на основе размера выходного ресурса-контейнера в гигабайтах по тарифу, указанному [здесь][1] в столбце «РАСШИРЕННЫЙ КОДИРОВЩИК».


В этом разделе сравниваются возможности кодирования **кодировщика мультимедиа Azure** и **расширенного рабочего процесса кодировщика мультимедиа**.


###Контейнер ввода/ форматы файлов

Контейнер ввода/ форматы файлов|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
Adobe® Flash® F4V |Да|Да
MXF/SMPTE 377M |Да|Да
GXF |Да|Да
Транспортные потоки MPEG-2 |Да|Да
Программные потоки MPEG-2 |Да|Да
MPEG-4/MP4 |Да|Да
Windows Media/ASF |Да|Да
AVI (без сжатия 8 бит/10 бит)|Да|Да
3GPP/3GPP2 |Да|Нет
Формат файлов Smooth Streaming (PIFF 1.3)|Да|Нет
[Microsoft Digital Video Recording(DVR-MS)](https://msdn.microsoft.com/library/windows/desktop/dd692984)|Да|Нет
Matroska/WebM |Да|Нет
QuickTime (.mov) |Да|Нет

###Входные видеокодеки

Входные видеокодеки|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
AVC 8-разрядный/10-разрядный, до 4:2:2, включая AVCIntra |8 бит 4:2:0 и 4:2:2|Да
Avid DNxHD (в MXF) |Да|Да
DVCPro/DVCProHD (в MXF) |Да|Да
JPEG2000 |Да|Да
MPEG-2 (до 422 Profile и High Level, включая такие варианты, как XDCAM, XDCAM HD, XDCAM IMX, CableLabs® и D10)|До 422 Profile|Да
MPEG-1 |Да|Да
Windows Media Video/VC-1 |Да|Да
Canopus HQ/HQX |Нет|Нет
MPEG-4, часть 2 |Да|Нет
[Theora](https://en.wikipedia.org/wiki/Theora) |Да|Нет
Apple ProRes 422 |Да|Нет
Apple ProRes 422 LT |Да|Нет
Apple ProRes 422 HQ |Да|Нет
Apple ProRes Proxy|Да|Нет
Apple ProRes 4444 |Да|Нет
Apple ProRes 4444 XQ |Да|Нет

###Входные аудиокодеки

Входные аудиокодеки|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
AES (SMPTE 331M и 302M, AES3-2003) |Нет|Да
Dolby® E |Нет|Да
Dolby® Digital (AC3) |Нет|Да
Dolby® Digital Plus (E-AC3) |Нет|Да
AAC (AAC-LC, AAC-HE и AAC-HEv2; до 5.1)|Да|Да
MPEG Layer 2|Да|Да
MP3 (MPEG-1 Audio Layer 3)|Да|Да
Windows Media Audio|Да|Да
WAV/PCM|Да|Да
[FLAC](https://en.wikipedia.org/wiki/FLAC)</a>|Да|Нет
[Opus](https://en.wikipedia.org/wiki/Opus_(audio_format)) |Да|Нет
[Vorbis](https://en.wikipedia.org/wiki/Vorbis)</a>|Да|Нет


###Контейнер вывода/ форматы файлов

Контейнер вывода/ форматы файлов|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
Adobe® Flash® F4V|Нет|Да
MXF (OP1a, XDCAM и AS02)|Нет|Да
DPP (включая AS11)|Нет|Да
GXF|Нет|Да
MPEG-4/MP4|Да|Да
MPEG-TS|Да|Да
Windows Media/ASF|Нет|Да
AVI (без сжатия 8 бит/10 бит)|Нет|Да
Формат файлов Smooth Streaming (PIFF 1.3)|Нет|Да

###Выходные видеокодеки

Выходные видеокодеки|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
AVC (H.264; 8-разрядный; до High Profile, Level 5.2; 4K Ultra HD; AVC Intra)|Только 8 бит 4:2:0|Да
Avid DNxHD (в MXF)|Нет|Да
DVCPro/DVCProHD (в MXF)|Нет|Да
MPEG-2 (до 422 Profile и High Level, включая такие варианты, как XDCAM, XDCAM HD, XDCAM IMX, CableLabs® и D10)|Нет|Да
MPEG-1|Нет|Да
Windows Media Video/VC-1|Нет|Да
Создание эскизов JPEG|Нет|Да

###Выходные аудиокодеки

Выходные аудиокодеки|Стандартный кодировщик служб мультимедиа|Расширенный рабочий процесс кодировщика мультимедиа
---|---|---
AES (SMPTE 331M и 302M, AES3-2003)|Нет|Да
Dolby® Digital (AC3)|Нет|Да
Dolby® Digital Plus (E-AC3) до 7.1|Нет|Да
AAC (AAC-LC, AAC-HE и AAC-HEv2; до 5.1)|Да|Да
MPEG Layer 2|Нет|Да
MP3 (MPEG-1 Audio Layer 3)|Нет|Да
Windows Media Audio|Нет|Да


##Коды ошибок  

В следующей таблице перечислены коды ошибок, которые могут быть возвращены при возникновении ошибок во время выполнения задачи кодирования. Чтобы получить сведения об ошибке в коде .NET, используйте класс [ErrorDetails](http://msdn.microsoft.com/library/microsoft.windowsazure.mediaservices.client.errordetail.aspx). Чтобы получить сведения об ошибке в коде REST, используйте REST API [ErrorDetail](https://msdn.microsoft.com/library/jj853026.aspx).

ErrorDetail.Code|Возможные причины ошибки
-----|-----------------------
Unknown| Неизвестная ошибка при выполнении задачи
ErrorDownloadingInputAssetMalformedContent|Категория ошибок, охватывающая ошибки загрузки входного ресурса, такие как некорректное имя файлов, файлы нулевой длины, неправильное форматирование и т. д.
ErrorDownloadingInputAssetServiceFailure|Категория ошибок, охватывающая проблемы на стороне службы, например проблемы с сетью или хранилищем во время загрузки.
ErrorParsingConfiguration|Категория ошибок, в которых задача <see cref="MediaTask.PrivateData"/> (конфигурация) является недопустимой, например: конфигурация не является допустимой конфигурацией системы или содержит недопустимый XML.
ErrorExecutingTaskMalformedContent|Категория ошибок, возникающих во время выполнения задачи, которые могут быть вызваны проблемами во входных файлах мультимедиа.
ErrorExecutingTaskUnsupportedFormat|Категория ошибок, в которой обработчик мультимедиа не может обработать представленные файлы — формат мультимедиа не поддерживается или не соответствует конфигурации. Например, при попытке получить только звук из ресурса, который содержит видео.
ErrorProcessingTask|Категория других ошибок обработчика мультимедиа, возникших во время обработки задачи, которые не связаны с содержимым.
ErrorUploadingOutputAsset|Категория ошибок при отправке выходного ресурса
ErrorCancelingTask|Категория ошибок, охватывающая ошибки, возникающие при попытке отменить задачу
TransientError|Категория ошибок, охватывающая временные проблемы (например, временные сетевые проблемы со службой хранилища Azure)


Для получения помощи от команды разработчиков для **служб мультимедиа** создайте [запрос в службу поддержки](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade).



##Схемы обучения работе со службами мультимедиа

[AZURE.INCLUDE [media-services-learning-paths-include](../../includes/media-services-learning-paths-include.md)]

##Отзывы

[AZURE.INCLUDE [media-services-user-voice-include](../../includes/media-services-user-voice-include.md)]


##Связанные статьи

- [Выполняйте расширенные задачи кодирования путем настройки предустановок стандартного кодировщика служб мультимедиа](media-services-custom-mes-presets-with-dotnet.md)
- [Квоты и ограничения](media-services-quotas-and-limitations.md)

 
<!--Reference links in article-->
[1]: http://azure.microsoft.com/pricing/details/media-services/

<!---HONumber=AcomDC_0921_2016-->